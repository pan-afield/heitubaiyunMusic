<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./css/index.css">
  <title>Document</title>
</head>

<body>
  <div class="player">
    <div class="left">
      <img class='disc' src="./img/disc.png" alt="">
      <img class='cover' src="./img/cover.png" alt="">
    </div>
    <div class="right">
      <div class="title"><img src="./img/tag.png" alt=""><span>放个大招给你看</span> </div>
      <div class="singer">歌手: <span>尼古拉斯赵四</span></div>
      <div class="album">所属专辑: <span>我就是我</span></div>
      <audio class='audio' controls src=""></audio>
      <ul class='lyric-container'>
     
      </ul>
    </div>
  </div>

  <script src="./lib/jquery-1.12.4.min.js"></script>
<script>
    let id = location.search.split('=')[1]
    console.log(id);
    $.get({
      url: ' https://autumnfish.cn/song/url',
      data : {id : id},
      success: function(res){
        console.log(res);
        $('.audio').attr('src',res.data[0].url)[0].play()
      }
    })
    $.get({
      url: 'https://autumnfish.cn/song/detail',
      data:{ids: id},
      success: function(res){
        console.log(res);
        let date = res.songs[0]
        let singer = ''
        for(let i = 0 ;i<date.ar.length;i++){
          singer += date.ar[i].name + '|'
        }
        singer = singer.substr(0,singer.length - 1)
        $('.cover').attr('src',date.al.picUrl)
        $('.title span').text(date.name)
        $('.singer span').text(singer)
        $('.album span').text(date.al.name)
      }
    })
    $('.audio').on('play',function(){
      $('.disc,.cover').addClass('running')
    })
    $('.audio').on('pouse',function(){
      $('.disc,.cover').removeClass('running')
    })
    // $('.audio').paly(function(){
    //   $('.disc,.cover').addClass('running')
    // })
    // $('.audio').pouse(function(){
    //   $('.disc,.cover').removeClass('running')
    // })
    // 上面为错误实例;
    // 并没有paly和pouse这两种方法，必须用on添加，因为：
    // jQ用on方法可以给任何html元素添加任何事件
</script>
</body>

</html>